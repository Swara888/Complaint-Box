{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Swarlali\\\\OneDrive\\\\Desktop\\\\Complaint_Box\\\\frontend\\\\src\\\\pages\\\\ComplaintDetail.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Box, Typography, Button, Divider, Stack } from \"@mui/material\";\nimport { useParams } from \"react-router-dom\";\nimport StatusChip from \"../components/StatusChip\";\nimport API from \"../api/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ComplaintDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [complaint, setComplaint] = useState(null);\n  useEffect(() => {\n    API.get(`/complaints/${id}/`).then(res => setComplaint(res.data)).catch(err => console.log(err));\n  }, [id]);\n\n  // ✅ Place it here, inside the component but above return\n  const updateStatus = async newStatus => {\n    try {\n      const res = await API.put(`/complaints/${id}/`, {\n        status: newStatus\n      });\n      setComplaint(res.data); // update UI\n      alert(`Status updated to ${newStatus}`);\n    } catch (err) {\n      console.error(err.response || err);\n      alert(\"Error updating status. Check console.\");\n    }\n  };\n  if (!complaint) return null;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      fontWeight: 600,\n      children: complaint.category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"text.secondary\",\n      mt: 1,\n      children: complaint.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 1,\n      mt: 2,\n      children: [/*#__PURE__*/_jsxDEV(StatusChip, {\n        label: complaint.priority,\n        type: \"priority\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatusChip, {\n        label: complaint.status,\n        type: \"status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      sx: {\n        my: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Location:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this), \" \", complaint.location]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Materials Required:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this), \" No\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"success\",\n      sx: {\n        mt: 2,\n        mr: 1\n      },\n      onClick: () => updateStatus(\"DONE\"),\n      children: \"Mark Done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      color: \"warning\",\n      sx: {\n        mt: 2\n      },\n      onClick: () => updateStatus(\"PENDING\"),\n      children: \"Mark Pending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(ComplaintDetail, \"8ho7zuSt3d/s5cJdkVtWE+gC+Ak=\", false, function () {\n  return [useParams];\n});\n_c = ComplaintDetail;\nvar _c;\n$RefreshReg$(_c, \"ComplaintDetail\");","map":{"version":3,"names":["useEffect","useState","Box","Typography","Button","Divider","Stack","useParams","StatusChip","API","jsxDEV","_jsxDEV","ComplaintDetail","_s","id","complaint","setComplaint","get","then","res","data","catch","err","console","log","updateStatus","newStatus","put","status","alert","error","response","p","children","variant","fontWeight","category","fileName","_jsxFileName","lineNumber","columnNumber","color","mt","description","direction","spacing","label","priority","type","sx","my","location","mr","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Swarlali/OneDrive/Desktop/Complaint_Box/frontend/src/pages/ComplaintDetail.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Divider,\r\n  Stack,\r\n} from \"@mui/material\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport StatusChip from \"../components/StatusChip\";\r\nimport API from \"../api/axios\";\r\n\r\nexport default function ComplaintDetail() {\r\n  const { id } = useParams();\r\n  const [complaint, setComplaint] = useState(null);\r\n\r\n  useEffect(() => {\r\n    API.get(`/complaints/${id}/`)\r\n      .then(res => setComplaint(res.data))\r\n      .catch(err => console.log(err));\r\n  }, [id]);\r\n\r\n  // ✅ Place it here, inside the component but above return\r\n  const updateStatus = async (newStatus) => {\r\n    try {\r\n      const res = await API.put(`/complaints/${id}/`, { status: newStatus });\r\n      setComplaint(res.data); // update UI\r\n      alert(`Status updated to ${newStatus}`);\r\n    } catch (err) {\r\n      console.error(err.response || err);\r\n      alert(\"Error updating status. Check console.\");\r\n    }\r\n  };\r\n\r\n  if (!complaint) return null;\r\n\r\n  return (\r\n    <Box p={2}>\r\n      <Typography variant=\"h5\" fontWeight={600}>\r\n        {complaint.category}\r\n      </Typography>\r\n\r\n      <Typography color=\"text.secondary\" mt={1}>\r\n        {complaint.description}\r\n      </Typography>\r\n\r\n      <Stack direction=\"row\" spacing={1} mt={2}>\r\n        <StatusChip label={complaint.priority} type=\"priority\" />\r\n        <StatusChip label={complaint.status} type=\"status\" />\r\n      </Stack>\r\n\r\n      <Divider sx={{ my: 2 }} />\r\n\r\n      <Typography><b>Location:</b> {complaint.location}</Typography>\r\n      <Typography><b>Materials Required:</b> No</Typography>\r\n\r\n      {/* ✅ Buttons to update status */}\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"success\"\r\n        sx={{ mt: 2, mr: 1 }}\r\n        onClick={() => updateStatus(\"DONE\")}\r\n      >\r\n        Mark Done\r\n      </Button>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"warning\"\r\n        sx={{ mt: 2 }}\r\n        onClick={() => updateStatus(\"PENDING\")}\r\n      >\r\n        Mark Pending\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}