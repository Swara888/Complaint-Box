{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Box,Typography,Card,CardContent,Grid}from\"@mui/material\";import{Bar,Pie}from\"react-chartjs-2\";import API from\"../api/axios\";import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,ArcElement,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,ArcElement,Tooltip,Legend);export default function Dashboard(){var _statusData$find,_statusData$find2;const[categoryData,setCategoryData]=useState([]);const[statusData,setStatusData]=useState([]);useEffect(()=>{API.get(\"/analytics/category/\").then(res=>setCategoryData(res.data));API.get(\"/analytics/status/\").then(res=>setStatusData(res.data));},[]);const categoryChart={labels:categoryData.map(item=>item.category),datasets:[{label:\"Complaints\",data:categoryData.map(item=>item.count),backgroundColor:\"#1976d2\"}]};const statusChart={labels:statusData.map(item=>item.status),datasets:[{data:statusData.map(item=>item.count),backgroundColor:[\"#388e3c\",\"#1976d2\"]}]};const totalComplaints=statusData.reduce((sum,item)=>sum+item.count,0);const doneComplaints=((_statusData$find=statusData.find(item=>item.status===\"DONE\"))===null||_statusData$find===void 0?void 0:_statusData$find.count)||0;const inProgress=((_statusData$find2=statusData.find(item=>item.status===\"IN PROGRESS\"))===null||_statusData$find2===void 0?void 0:_statusData$find2.count)||0;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",mb:3,children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,mb:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{p:2,borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{children:\"Total Complaints\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:totalComplaints})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{p:2,borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{children:\"Done\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:doneComplaints})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{p:2,borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{children:\"In Progress\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:inProgress})]})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Card,{sx:{p:2,borderRadius:3},children:[/*#__PURE__*/_jsx(Typography,{mb:1,children:\"Complaints by Category\"}),/*#__PURE__*/_jsx(Bar,{data:categoryChart})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Card,{sx:{p:2,borderRadius:3},children:[/*#__PURE__*/_jsx(Typography,{mb:1,children:\"Complaints by Status\"}),/*#__PURE__*/_jsx(Pie,{data:statusChart})]})})]})]});}","map":{"version":3,"names":["useEffect","useState","Box","Typography","Card","CardContent","Grid","Bar","Pie","API","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","Dashboard","_statusData$find","_statusData$find2","categoryData","setCategoryData","statusData","setStatusData","get","then","res","data","categoryChart","labels","map","item","category","datasets","label","count","backgroundColor","statusChart","status","totalComplaints","reduce","sum","doneComplaints","find","inProgress","children","variant","mb","container","spacing","xs","md","sx","p","borderRadius"],"sources":["C:/Users/Swarlali/OneDrive/Desktop/Complaint_Box/frontend/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Box, Typography, Card, CardContent, Grid } from \"@mui/material\";\r\nimport { Bar, Pie } from \"react-chartjs-2\";\r\nimport API from \"../api/axios\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend);\r\n\r\nexport default function Dashboard() {\r\n  const [categoryData, setCategoryData] = useState([]);\r\n  const [statusData, setStatusData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    API.get(\"/analytics/category/\").then(res => setCategoryData(res.data));\r\n    API.get(\"/analytics/status/\").then(res => setStatusData(res.data));\r\n  }, []);\r\n\r\n  const categoryChart = {\r\n    labels: categoryData.map(item => item.category),\r\n    datasets: [{ label: \"Complaints\", data: categoryData.map(item => item.count), backgroundColor: \"#1976d2\" }],\r\n  };\r\n\r\n  const statusChart = {\r\n    labels: statusData.map(item => item.status),\r\n    datasets: [{ data: statusData.map(item => item.count), backgroundColor: [\"#388e3c\", \"#1976d2\"] }],\r\n  };\r\n\r\n  const totalComplaints = statusData.reduce((sum, item) => sum + item.count, 0);\r\n  const doneComplaints = statusData.find(item => item.status === \"DONE\")?.count || 0;\r\n  const inProgress = statusData.find(item => item.status === \"IN PROGRESS\")?.count || 0;\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\" mb={3}>Analytics Dashboard</Typography>\r\n\r\n      <Grid container spacing={2} mb={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ p: 2, borderRadius: 2 }}>\r\n            <Typography>Total Complaints</Typography>\r\n            <Typography variant=\"h5\">{totalComplaints}</Typography>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ p: 2, borderRadius: 2 }}>\r\n            <Typography>Done</Typography>\r\n            <Typography variant=\"h5\">{doneComplaints}</Typography>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ p: 2, borderRadius: 2 }}>\r\n            <Typography>In Progress</Typography>\r\n            <Typography variant=\"h5\">{inProgress}</Typography>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ p: 2, borderRadius: 3 }}>\r\n            <Typography mb={1}>Complaints by Category</Typography>\r\n            <Bar data={categoryChart} />\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ p: 2, borderRadius: 3 }}>\r\n            <Typography mb={1}>Complaints by Status</Typography>\r\n            <Pie data={statusChart} />\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}